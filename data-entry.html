<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interface de Saisie - Mon Parcours Pro</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Ic√¥nes Lucide en inline
        const Plus = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const Trash2 = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>;
        const Save = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>;
        const Download = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>;
        const Upload = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>;
        const Eye = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>;
        const Edit2 = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>;
        const X = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;

        const DataEntryInterface = () => {
          const [activeTab, setActiveTab] = useState('jobs');
          const [jobs, setJobs] = useState(() => {
            const saved = localStorage.getItem('orientation_jobs');
            return saved ? JSON.parse(saved) : [];
          });
          const [formations, setFormations] = useState(() => {
            const saved = localStorage.getItem('orientation_formations');
            return saved ? JSON.parse(saved) : [];
          });
          const [editingJobId, setEditingJobId] = useState(null);
          const [currentJob, setCurrentJob] = useState({
            id: Date.now(),
            name: '',
            domain: '',
            description: '',
            detailedDescription: '',
            studyYears: [],
            salary: { min: '', max: '', display: '' },
            interests: [],
            values: [],
            workStyle: [],
            subjects: [],
            formations: [],
            jobMarket: { opportunities: '', growth: '' },
            advantages: [''],
            challenges: [''],
            relatedJobs: []
          });
          const [currentFormation, setCurrentFormation] = useState({
            id: Date.now(),
            name: '',
            shortName: '',
            type: '',
            duration: '',
            description: ''
          });

          const domains = ['Informatique', 'Sant√©', 'Commerce', 'Cr√©ation', 'Social', 'Construction', 'Gestion'];
          const formationTypes = ['BTS', 'BUT', 'Licence', 'Master', '√âcole', 'Dipl√¥me d\'√âtat'];
          const interestsList = ['technologie', 'sciences', 'social', 'creation', 'artistique', 'logique'];
          const valuesList = ['aider', 'argent', 'autonomie', 'innovation', 'stabilite', 'utilite'];
          const workStyleOptions = {
            lieu: ['bureau', 'terrain'],
            organisation: ['equipe', 'solo'],
            type: ['intellectuel', 'manuel']
          };
          const subjectsList = ['mathematiques', 'physique', 'svt', 'technologie', 'economie', 'langues'];

          const handleSaveJob = () => {
            if (!currentJob.name || !currentJob.domain) {
              alert('Le nom et le domaine sont obligatoires');
              return;
            }

            const jobToSave = {
              ...currentJob,
              salary: {
                ...currentJob.salary,
                display: `${currentJob.salary.min}-${currentJob.salary.max}k‚Ç¨`
              },
              advantages: currentJob.advantages.filter(a => a.trim() !== ''),
              challenges: currentJob.challenges.filter(c => c.trim() !== '')
            };

            let updatedJobs;
            if (editingJobId) {
              updatedJobs = jobs.map(j => j.id === editingJobId ? jobToSave : j);
              alert('M√©tier modifi√© !');
              setEditingJobId(null);
            } else {
              updatedJobs = [...jobs, jobToSave];
              alert('M√©tier ajout√© !');
            }

            setJobs(updatedJobs);
            localStorage.setItem('orientation_jobs', JSON.stringify(updatedJobs));
            resetCurrentJob();
          };

          const resetCurrentJob = () => {
            setCurrentJob({
              id: Date.now(),
              name: '',
              domain: '',
              description: '',
              detailedDescription: '',
              studyYears: [],
              salary: { min: '', max: '', display: '' },
              interests: [],
              values: [],
              workStyle: [],
              subjects: [],
              formations: [],
              jobMarket: { opportunities: '', growth: '' },
              advantages: [''],
              challenges: [''],
              relatedJobs: []
            });
          };

          const handleExportJSON = () => {
            const dataToExport = {
              metadata: {
                version: '1.0.0',
                lastUpdate: new Date().toISOString().split('T')[0],
                totalJobs: jobs.length,
                totalFormations: formations.length
              },
              jobs: jobs,
              formations: formations
            };

            const blob = new Blob([JSON.stringify(dataToExport, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `orientation-data-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            alert(`‚úÖ Export r√©ussi !\n\n${jobs.length} m√©tiers, ${formations.length} formations`);
          };

          return (
            <div className="min-h-screen bg-gray-50 p-4">
              <div className="max-w-7xl mx-auto">
                <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                  <div className="flex items-center justify-between mb-6">
                    <div>
                      <h1 className="text-3xl font-bold text-gray-800">Interface de Saisie</h1>
                      <p className="text-gray-600">Gestion des donn√©es d'orientation</p>
                    </div>
                    <button
                      onClick={handleExportJSON}
                      className="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
                    >
                      <Download />
                      Exporter JSON
                    </button>
                  </div>

                  <div className="text-center py-8">
                    <p className="text-lg text-gray-700 mb-4">
                      üìä <strong>{jobs.length}</strong> m√©tiers ‚Ä¢ <strong>{formations.length}</strong> formations
                    </p>
                    <p className="text-sm text-gray-500">
                      Cr√©ez vos m√©tiers et formations, puis exportez en JSON
                    </p>
                  </div>

                  <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <p className="text-sm">
                      <strong>‚ÑπÔ∏è Note :</strong> Ceci est une version simplifi√©e. 
                      Pour la version compl√®te avec toutes les fonctionnalit√©s, 
                      utilisez l'application React dans Claude.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<DataEntryInterface />);
    </script>
</body>
</html>